<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>单例模式登录框</title>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		#login{
			height: 300px;
			width: 150px;
			border: 1px solid #000;
			background: grey;
			/*display: none;*/
			margin:0 auto;
		}
	#btn{
		width: 50px;
		height: 50px;
	}
	#mask{
		border: 1px solid #000;
		background: #ccc;
		width: 200px;
		height: 200px;
	}
	</style>
	<script>
		window.onload=function(){
			var obj=null;
			(function(w){
				function Loginlayer (){
					if(!obj){
						var oDiv = document.createElement("div");
						oDiv.id='login';
						document.body.appendChild(oDiv);
						obj=oDiv;
					}
				}
				w.Loginlayer=Loginlayer;
			})(window);
			function createloginlayer (){
				var oDiv = document.createElement("div");
				oDiv.id='login';
				document.body.appendChild(oDiv);
				return oDiv;
			}
			function createMasklayer(){
				var oDiv = document.createElement("div");
				oDiv.id='mask';
				document.body.appendChild(oDiv);
				return oDiv;
			}
			function getsingle(fn){
				var obj = null;
				return function(){
					if(!obj){
						obj =fn();
					}
					return obj;
				}
			}
			var createsinglelayer =getsingle(createloginlayer);
			var createsinglelayer =getsingle(createMasklayer);
			var oBtn = document.getElementById('btn');
			oBtn.onclick = function(){
				//new Loginlayer();
				createsinglelayer();
			}
			
		}


	</script>
</head>
<body>
	<input type="button" name="" id="btn">
	
</body>
</html>